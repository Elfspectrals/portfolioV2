@use "sass:map";

/* ===== Couleurs & maps ===== */
$blue:   #2563eb;
$orange: #f97316;
$green:  #16a34a;
$border-Card-Light: #e2e8f0;
$border-Card-Dark: #334155;

$v-light: (
  "background": #DDE1C5,
  "text": #1A1A1A,
  "card-bg": #FFEFD6,
  "card-text": #333333,
  "card-icon": #5EB7BF,
);

$v-dark: (
  "background": #0f172a,
  "text": #f1f5f9,
  "card-bg": #1e293b,
  "card-text": #cbd5e1,
  "card-icon": #60a5fa,
);

/* ===== Mixins pour exporter des maps en variables CSS ===== */
@function m($mapObj, $key, $fallback:null) {
  @return if(map.has-key($mapObj, $key), map.get($mapObj, $key), $fallback);
}

@mixin export-theme-vars($mapObj) {
  --background: #{m($mapObj, "background")};
  --text: #{m($mapObj, "text")};
  --card-bg: #{m($mapObj, "card-bg")};
  --card-text: #{m($mapObj, "card-text")};
  --card-icon: #{m($mapObj, "card-icon")};

  /* accents globaux (optionnel) */
  --accent: #{$blue};
  --accent-2: #{$orange};
  --success: #{$green};

  /* bordures selon thème (si besoin) */
  --card-border: #{if($mapObj == $v-dark, $border-Card-Dark, $border-Card-Light)};
}

/* Variables spécifiques au badge violet */
@mixin export-badge-light() {
  --badge-bg-1: #ede9fe;   /* violet 100 */
  --badge-bg-2: #ddd6fe;   /* violet 200 */
  --badge-ring-1: #c4b5fd; /* violet 300 */
  --badge-ring-2: #a78bfa; /* violet 400 */
  --badge-text:  #4c1d95;  /* violet 900 */
  --badge-shadow: rgba(0,0,0,.08);
}

@mixin export-badge-dark() {
  --badge-bg-1: #6d28d9;   /* violet 700 */
  --badge-bg-2: #5b21b6;   /* violet 800 */
  --badge-ring-1: #8b5cf6; /* violet 500 */
  --badge-ring-2: #a78bfa; /* violet 400 */
  --badge-text:  #ffffff;  /* lisible en sombre */
  --badge-shadow: rgba(0,0,0,.24);
}

/* ===== Définition par défaut (light) ===== */
:root {
  @include export-theme-vars($v-light);
  @include export-badge-light();
}

